<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Récupérer la valeur d'un input texte</title>
  </head>
  <body>
    <input type="text" placeholder="donner le nombre de joueur" id="in">
    <button type="button" onclick="getValue();">Récupérer la valeur</button>
    <input type="checkbox"  onclick="getchecked();"  id='check1'>

<script>
        let codage= ["000","001","010", "011","100","101","110","111"]

        function  bit_aleatoir() {
            min = Math.ceil(0);
            max = Math.floor(1);
        var random =Math.floor( Math.random() * (max-min+1))+ min; 
        return random;
        }

        function getchecked( ){
          const checkBox = document.getElementById('check1').checked;
          if (checkBox === true) {
            document.getElementById('check1').value=true ;
            } else {
              document.getElementById('check1').value=false;
          }
        }
        
        function getscore ( dé1 , dé2 , dé3)
        {   
          if (dé1==6 && dé2==6 &&  dé3==6 ){ return 6}
          if (dé1==5 && dé2==5 &&  dé3==5) { return 5}
          if (dé1==4 && dé2==4 &&  dé3==4) { return 4}
          if (dé1==3 && dé2==3 &&  dé3==3) { return 3}
          if (dé1==2 && dé2==2 &&  dé3==2) { return 2}
          if (dé1==1 && dé2==1 &&  dé3==1) { return 7}

        if (dé1==1 && dé2==1  )
            {
             if(dé3==6)  {return 6 }   else {  if(dé3==5)  {return 5 } else {  if(dé3==4)  {return 4 }else {if(dé3==3)  {return 3}else {if(dé3==2)  {return 2}}}  }  }   
            }
            if (dé2==1 && dé3==1  )
            {
                if(dé1==6)  {return 6 }   else {  if(dé1==5)  {return 5 } else {  if(dé1==4)  {return 4 }else {if(dé1==3)  {return 3}else {if(dé1==2)  {return 2}}}  }  }
                
            }
            if (dé1==1 && dé3==1  )
            {
                if(dé2==6)  {return 6 }   else {  if(dé2==5)  {return 5 } else {  if(dé2==4)  {return 4 }else {if(dé2==3)  {return 3}else {if(dé2==2)  {return 2}}}  }  }
                
            }
            return 1 ;

        }


        function getValue() {
             var  input = document.getElementById("in").value; 
              
              for (let joueur=0 ; joueur <input; joueur++)
              {  let continuer=true ; let partie=0 ;let  score=0   ;
                
                  var dé_1 , dé_2 , dé_3 ; 
                    while (partie <3 && continuer==true )  // chaque jouerus a le droit a 3 parties 
                    {   dé_1= bit_aleatoir().toString()+ bit_aleatoir().toString() +bit_aleatoir().toString();   // le codage du du dé1 
                        dé_2= bit_aleatoir().toString()+ bit_aleatoir().toString() +bit_aleatoir().toString();  
                        dé_3= bit_aleatoir().toString()+ bit_aleatoir().toString() +bit_aleatoir().toString();  
                        continuer = document.getElementById('check1').value   // on verfie si le joeur veut continuer ou si il garde le resultat actuelle 
                        partie++; 
                    }
                    var val_dé1 = codage.indexOf(dé_1,0)+1;
                    var val_dé2 = codage.indexOf(dé_2,0)+1;
                    var val_dé3 = codage.indexOf(dé_3,0)+1;
                    
                    score = getscore (val_dé1 ,val_dé2 ,val_dé3);
                    
                    //les autres cas 
                    alert ('score '+ score );; // affidche du dcore du jour "j"
              }
         }


 </script>
 </body>

</html>
